# MxSTemplate_v2

Шаблонный проект, включающий в себя текущие наработки по Android и базовые зависимости с локально подключёнными библиотеками.
Предназначен для быстрого старта новых проектов с clean architecture, с возможностью выбора необходимых модулей.
Использует паттерн MVVM.

Используется version catalog, информация обо всех зависимостях и их версиях представлена в ```gradle/libs.versions.toml```.
В ```build-logic/convention``` представлены плагины для применения в build.gradle соответствующего типа модуля.

Описание имеющихся gradle-модулей:

## Core

### domain

Доменные сущности с kotlin-сериализацией

### database

Room база данных, связанные DAO и конвертеры

### network

* Вспомогательные средства для работы с сетевым слоем, исключения, коды ошибок
* DataSource с соответствующими сущностями запросов/ответов для работы с конкретным API
* Базовые типы ответов, клиенты и конвертеры для Retrofit, клиенты и интерсепторы для OkHttp

### utils

JVM-модуль с подключённым jar "commonutils-jre" и утилитами, не связанных с Android

### android

Архитектурные компоненты Android (в частности, для работы с алертами, полями, контентом), платформенные утилиты, UseCase для корутин,
подключённые aar-библиотеки "commonutils" и "permissionchecker" (обёртка над EasyPermissions для запроса и проверки разрешений)

### ui

Базовые классы, являющиеся продолжением core-android,
но связанные непосредственно с представлением (например, FragmentDelegate, реализация которого подключается по месту на используемом фрагменте).
Также содержит некоторые ресурсы

### di

Константы и квалификаторы предоставляемых Hilt зависимостей

## DesignSystem

### compose

Некоторые вспомогательные классы для работы с Compose

### shared_res

Общие ресурсы шрифтов

## Feature

Модули, связанные с конкретной разрабатываемой feature приложения.
В зав-ти от своего назначения в приложении может представлять собой:
* Пару подмодулей с типами data + ui. Модуль data подразумевает реализацию репозиториев, моделей, сервисов, менеджеров и т.д.,
  а ui соот-но включает в себя экранно-зависимые компоненты
* Обычную library

## Основные

### mobile_services

Классы, связанные с интеграцией с системными сервисами:
геолокация, проверка обновлений, открытие маркета.
Разделяется на 2 набора исходников в зав-ти от выбранного флавора: google и huawei, содержащие свои реализации

### preferences

Настройки приложения, учитывающие все задействованные модули: репозиторий и VM с фрагментом

### about

Раздел "О приложении". Делегат для вывода информации по выпущенным версиям

### rate

Диалог оценки, экран для обратной связи, делегат с логикой для напоминания об оценке, реализация ReviewManager

## Специфичные для конкретного приложения

### webview

Содержит базовую логику для работы с WebView, инкапсулированную во фрагменте и VM, необходимые интерсепторы

### download

Загрузчик, состоящий из сервиса, менеджера, реализации хранилища и репозитория загрузок.
Также необходимая логика представлена в UI-слое: параметры, состояния.
Является целевым модулем для приложения ```Just UpDownload It``` (описание на [странице релиза](https://4pda.to/forum/index.php?showtopic=1094125)).

### address_sorter

Сортировщик адресов, состоящий из репозитория, UseCase вызываемых сценариев и UI-слоя.
Является целевым модулем для приложения ```Geo Address Sorter``` (описание на [странице релиза](https://4pda.to/forum/index.php?showtopic=1094073)).

## App

Модуль приложения, включающий в себя конечные собираемые экранные классы, navigation и прочие ресурсы, Application, RoomDatabase и модули с EntryPoint для DI. Настраивается под конкретное приложение.